<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Truth Demo</title>
	<style>
		body 
		{
			margin: 0;	
			height: 100vh;
			overflow: hidden;
			display: flex;
		}
		
		div 
		{
			width: 50%;	
		}
		
		#truthcode
		{
			height: 60%;
		}
		
		textarea
		{
			display: block;
			width: 90%;
			height: 30%;
			margin: 1% 5%;
			padding: 8px;
			box-sizing: border-box;
			tab-size: 2;
			overflow: auto;
		}
		
		pre 
		{
			tab-size: 2;
			overflow: auto;
			padding: 8px;
			box-sizing: border-box;
			
		}
		
		#regex 
		{
			box-sizing: border-box;
			margin: 0 5%;
			width: 90%;
		}
		
		#compute
		{
			box-sizing: border-box;
			margin: 0 5%;
			width: 90%;
		}
		
	</style>
</head>
<body>
	<div>
		<textarea name="truthcode" id="truthcode" placeholder="Truth Code" spellcheck="false"></textarea>
		<input type="text" name="regex" id="regex" placeholder="Data Pattern" spellcheck="false">
		<textarea name="ttq" id="ttq" placeholder="Truth Talk Query" spellcheck="false"></textarea>
		<button id="compute">Compute</button>
	</div>
	<pre id="result" placeholder="Result"></pre>
	<script src="truth.js"></script>
	<script src="reflex-core.js"></script>
	<script src="backer.js"></script>
	<script src="build/demo.js"></script>
	
	<script>
		const code = document.querySelector("#truthcode");
		code.value = `// Define Types --------------------------------------------------------------------
Type
Standard, Product, Class, Hole Size, Finish, Grade, Material, Thread Type, Drive Type, Head Style, System of Measurement, SKU : Type

// Unused but may be useful if we want to add any text fields down the road
Number: number
Text: string
/.*/ : Text

Decimal, Fraction : Number
mm, n/mm^2 : Decimal
/\\d+\\.?\\d*/ : mm
/\\d+\\.?\\d*/ : n/mm^2

Range : Class
	Min : Number
	Max : Number
  Nom : Number
		
Metric, Inch : System of Measurement
Metric Hole Size, Inch Hole Size : Hole Size
M1, M1.6, M2, M2.5, M2.6, M3, M3.5, M4, M5, M6, M8, M10 : Metric Hole Size

Stainless Steel, Brass, Low Carbon Steel, Steel, Nylon : Material
Plain, Zinc Chromate Plated, Yellow Zinc Chromate Plated, Natural : Finish
A2, A4, 4.8, 5.8, 6/6 : Grade

304 : A2
316 : A4

Coarse, Fine : Thread Type
Flat : Head Style
Slot : Drive Type


// Define Machine Screw Types ------------------------------------------------------
Machine Screw : Product
	System of Measurement : System of Measurement
	Hole Size : Hole Size
	Head Diameter : Range
	Head Style : Head Style
	Drive Type : Drive Type
	Thread Type : Thread Type
	Thread Pitch : Number
	Material : Material
	Grade : Grade
	Finish : Finish
	Tensile Strength : Number

Metric Machine Screw : Machine Screw
	System of Measurement : Metric
	Hole Size : Metric Hole Size
	Head Height : mm
	Thread Pitch : mm
	Tensile Strength : n/mm^2
	Length : mm


// Define ISO Standards for Dimensions ---------------------------------------------
ISO 2009 : Standard
	Head Style : Flat
	Drive Type : Slot
	Thread Type : Coarse
	Thread Pitch : mm
	Head Height : mm
	Head Diameter : Range
		Min : mm
		Max : mm
		
ISO 2009 M1 : ISO 2009
	Hole Size : M1
	Thread Pitch : 0.25
	Head Height : 0.60
	Head Diameter : Range
		Min : 1.76
		Max : 1.90
		
ISO 2009 M1.6 : ISO 2009
	Hole Size : M1.6
	Thread Pitch : 0.35
	Head Height : 0.96
	Head Diameter : Range
		Min : 2.86
		Max : 3.00

ISO 2009 M2 : ISO 2009
	Hole Size : M2
	Thread Pitch : 0.40
	Head Height : 1.20
	Head Diameter : Range
		Min : 3.50
		Max : 3.80

ISO 2009 M2.5 : ISO 2009
	Hole Size : M2.5
	Thread Pitch : 0.45
	Head Height : 1.50
	Head Diameter : Range
		Min : 4.40
		Max : 4.70
		
ISO 2009 M2.6 : ISO 2009
	Hole Size : M2.6
	Thread Pitch : 0.45
	Head Height : 1.50
	Head Diameter : Range
		Min : 4.70
		Max : 5.00

ISO 2009 M3 : ISO 2009
	Hole Size : M3
	Thread Pitch : 0.50
	Head Height : 1.65
	Head Diameter : Range
		Min : 5.30
		Max : 5.60
		
ISO 2009 M3.5 : ISO 2009
	Hole Size : M3.5
	Thread Pitch : 0.60
	Head Height : 1.93
	Head Diameter : Range
		Min : 6.14
		Max : 6.50

ISO 2009 M4 : ISO 2009
	Hole Size : M4
	Thread Pitch : 0.70
	Head Height : 2.20
	Head Diameter : Range
		Min : 7.14
		Max : 7.50

ISO 2009 M5 : ISO 2009
	Hole Size : M5
	Thread Pitch : 0.80
	Head Height : 2.50
	Head Diameter : Range
		Min : 8.84
		Max : 9.20
		
ISO 2009 M6 : ISO 2009
	Hole Size : M6
	Thread Pitch : 1.00
	Head Height : 3.00 
	Head Diameter : Range
		Min : 10.57
		Max : 11.00

ISO 2009 M8 : ISO 2009
	Hole Size : M8
	Thread Pitch : 1.25
	Head Height : 4.00
	Head Diameter : Range
		Min : 14.07
		Max : 14.50

ISO 2009 M10 : ISO 2009
	Hole Size : M10
	Thread Pitch : 1.50
	Head Height : 5.00
	Head Diameter : Range
		Min : 17.57
		Max : 18.00
	

// Define ISO Standards for Stainless ----------------------------------------------
ISO 3506-1 : Standard
	Tensile Strength : Number
	
ISO 3506-1 A2 : ISO 3506-1
	Material : Stainless Steel
	Grade : A2
	Tensile Strength : 500.00
	
ISO 3506-1 A4 : ISO 3506-1
	Material : Stainless Steel
	Grade : A4
	Tensile Strength : 700.00
	
	
// Define ISO Standards for Brass --------------------------------------------------
ISO 197-1 : Standard
	Tensile Strength : n/mm^2

ISO 197-1 Brass : ISO 197-1
	Material : Brass
	Tensile Strength : 135.00
	
	
// Define ISO Standards for (Low)Carbon Steel --------------------------------------
ISO 898-1 : Standard
	Tensile Strength : Number
	
ISO 898-1 4.8 : ISO 898-1
	Material : Low Carbon Steel
	Grade : 4.8
	Tensile Strength : 420.00
	
ISO 898-1 5.8 : ISO 898-1
	Material : Steel
	Grade : 5.8
	Tensile Strength : 520.00
	
	
// Define ISO Standards for Nylon 6/6 ----------------------------------------------
ISO 16396-1 : Standard
	Tensile Strength : n/mm^2
	
ISO 16396-1 Nylon 6/6 : ISO 16396-1
	Material : Nylon
	Grade : 6/6
	Finish : Natural
	Tensile Stength : 82.5
	
	// Stainless SKU Numbers -----------------------------------------------------------
421-095 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-096 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-101 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 8
	Finish : Plain

421-102 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 12
	Finish : Plain

421-103 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-104 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-105 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 30
	Finish : Plain

421-106 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain

421-109 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-110 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 12
	Finish : Plain

421-111 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-112 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-113 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-114 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-115 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-116 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 30
	Finish : Plain

421-117 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-118 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-119 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-120 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 30
	Finish : Plain

421-135 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain

421-136 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 50
	Finish : Plain

421-171 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 5
	Finish : Plain

421-172 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 6
	Finish : Plain

421-173 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 5
	Finish : Plain

421-174 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 6
	Finish : Plain

421-175 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 8
	Finish : Plain

421-176 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain

421-177 : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 5
	Finish : Plain

421-179 : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 12
	Finish : Plain

421-180 : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-182 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 5
	Finish : Plain

421-197 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 4
	Finish : Plain

421-198 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 8
	Finish : Plain

421-199 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain

421-200 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 12
	Finish : Plain

421-201 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-202 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-203 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 6
	Finish : Plain

421-204 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 6
	Finish : Plain

421-541 : SKU, ISO 2009 M2, ISO 3506-1 A4, Metric Machine Screw
	Length : 4
	Finish : Plain

421-542 : SKU, ISO 2009 M2, ISO 3506-1 A4, Metric Machine Screw
	Length : 5
	Finish : Plain

421-543 : SKU, ISO 2009 M2, ISO 3506-1 A4, Metric Machine Screw
	Length : 6
	Finish : Plain

421-544 : SKU, ISO 2009 M2, ISO 3506-1 A4, Metric Machine Screw
	Length : 8
	Finish : Plain

421-547 : SKU, ISO 2009 M2, ISO 3506-1 A4, Metric Machine Screw
	Length : 16
	Finish : Plain

421-549 : SKU, ISO 2009 M2.5, ISO 3506-1 A4, Metric Machine Screw
	Length : 5
	Finish : Plain

421-551 : SKU, ISO 2009 M2.5, ISO 3506-1 A4, Metric Machine Screw
	Length : 10
	Finish : Plain

421-552 : SKU, ISO 2009 M2.5, ISO 3506-1 A4, Metric Machine Screw
	Length : 16
	Finish : Plain

421-093 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 8
	Finish : Plain

421-108 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 20
	Finish : Plain

421-374 : SKU, ISO 2009 M1.6, ISO 3506-1 A2, Metric Machine Screw
	Length : 3
	Finish : Plain

421-375 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 3
	Finish : Plain

421-376 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 4
	Finish : Plain

421-377 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 12
	Finish : Plain

421-378 : SKU, ISO 2009 M2, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-379 : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 4
	Finish : Plain

421-380 : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 6
	Finish : Plain

421-382 : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-384 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain

421-385 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 30
	Finish : Plain

421-386 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 35
	Finish : Plain

421-387 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 40
	Finish : Plain

421-389 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 50
	Finish : Plain

421-390 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain

421-391 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 25
	Finish : Plain

421-392 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 35
	Finish : Plain

421-393 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 40
	Finish : Plain

421-394 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 45
	Finish : Plain

421-395 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 60
	Finish : Plain

421-396 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 8
	Finish : Plain

421-398 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 35
	Finish : Plain

421-399 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 40
	Finish : Plain

421-401 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 50
	Finish : Plain

421-402 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 60
	Finish : Plain

421-403 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 70
	Finish : Plain

421-404 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 80
	Finish : Plain

421-405 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 90
	Finish : Plain

421-406 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 100
	Finish : Plain

421-407 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 8
	Finish : Plain

421-408 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 35
	Finish : Plain

421-409 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 40
	Finish : Plain

421-410 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 45
	Finish : Plain

421-411 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 50
	Finish : Plain

421-413 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 60
	Finish : Plain

421-414 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 70
	Finish : Plain

421-416 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 90
	Finish : Plain

421-417 : SKU, ISO 2009 M6, ISO 3506-1 A2, Metric Machine Screw
	Length : 100
	Finish : Plain

421-418 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 12
	Finish : Plain

421-419 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-422 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 60
	Finish : Plain

421-423 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 70
	Finish : Plain

421-424 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 80
	Finish : Plain

421-426 : SKU, ISO 2009 M8, ISO 3506-1 A2, Metric Machine Screw
	Length : 100
	Finish : Plain

421-427 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 35
	Finish : Plain

421-430 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 60
	Finish : Plain

421-432 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 80
	Finish : Plain

421-434 : SKU, ISO 2009 M10, ISO 3506-1 A2, Metric Machine Screw
	Length : 100
	Finish : Plain

421-436 : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 30
	Finish : Plain

421-437 : SKU, ISO 2009 M4, ISO 3506-1 A2, Metric Machine Screw
	Length : 50
	Finish : Plain

421-569 : SKU, ISO 2009 M3, ISO 3506-1 A4, Metric Machine Screw
	Length : 10
	Finish : Plain

421-579 : SKU, ISO 2009 M4, ISO 3506-1 A4, Metric Machine Screw
	Length : 10
	Finish : Plain

421-580 : SKU, ISO 2009 M4, ISO 3506-1 A4, Metric Machine Screw
	Length : 16
	Finish : Plain

421-581 : SKU, ISO 2009 M3, ISO 3506-1 A4, Metric Machine Screw
	Length : 12
	Finish : Plain

421-368 : SKU, ISO 2009 M3, ISO 3506-1 A2, Metric Machine Screw
	Length : 4
	Finish : Plain

421-A03-1A : SKU, ISO 2009 M5, ISO 3506-1 A2, Metric Machine Screw
	Length : 16
	Finish : Plain

421-A10-1T : SKU, ISO 2009 M2.5, ISO 3506-1 A2, Metric Machine Screw
	Length : 10
	Finish : Plain
`;
	
	
	const pattern = document.querySelector("#regex");
	pattern.value = `^\\d{3}-.+`
	const compute = document.querySelector("#compute");
	const result = document.querySelector("#result");
	compute.onclick = async () => 
	{
		result.innerText = "";
		const res = await Demo.Calculate();
		window.Schema = Backer.Schema;
		console.log(res);
		result.innerText = res.map(x => x.toString()).join("\n");
	}
	</script>
</body>
</html>